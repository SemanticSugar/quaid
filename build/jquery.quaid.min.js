(function(b){var g=/xyz/.test(function(){})?/\b_super\b/:/.*/;b.CLASS_NAMESPACE="class";b.QUAID="quaid";b[b.QUAID]={};b[b.CLASS_NAMESPACE]||(b[b.CLASS_NAMESPACE]={});(function(){var a=false;this.Class=function(){};this.Class.prototype.init=function(c,d,e){this.container=c;this.settings=b.extend({},e,d)};Class.extend=function(c,d){function e(){!a&&this.init&&this.init.apply(this,arguments)}if(c instanceof Object){d=c;c=null}else if(c){if(b.fn[c])throw Error("You cannot define '"+c+"' more than once!");
b.fn[c]=function(j){var m=[];this.each(function(){var o=b(this),n=o.data(c);if(!n)if(b[b.CLASS_NAMESPACE][c]){n=new b[b.CLASS_NAMESPACE][c](o,j);o.data(c,n);n.TYPE=c}else b.log("Cannot find $."+b.CLASS_NAMESPACE+"."+c+"!");m.push(n)});if(m.length==1)return m[0];if(!m.length)return null;return m}}var h=this.prototype;a=true;var f=new this;a=false;for(var i in d)f[i]=typeof d[i]=="function"&&typeof h[i]=="function"&&g.test(d[i])?function(j,m){return function(){var o=this._super;this._super=h[j];var n=
m.apply(this,arguments);this._super=o;return n}}(i,d[i]):d[i];e.prototype=f;e.constructor=e;e.extend=arguments.callee;if(c)b[b.CLASS_NAMESPACE][c]=e;return e}})()})(jQuery);
(function(b){b.log=function(){if(b.log.enabled)b.log.logFn.apply(null,arguments)||b.isFunction(b.log.failoverFn)&&b.log.failoverFn(arguments)};b.log.enabled=true;b.log.failoverToFirebugLite=true;b.log.firebugLiteUrl="https://getfirebug.com/firebug-lite-beta.js";b.log.level=0;b.log.DEBUG="DEBUG:";b.log.INFO="INFO:";b.log.WARNING="WARNING:";b.log.ERROR="ERROR:";b.log.LOG="LOG:";b.log.LEVEL_ORDER=[b.log.DEBUG,b.log.INFO,b.log.WARNING,b.log.ERROR,b.log.LOG];b.log.LEVEL_FUNCTIONS={};b.log.LEVEL_FUNCTIONS[b.log.DEBUG]=
"debug";b.log.LEVEL_FUNCTIONS[b.log.INFO]="info";b.log.LEVEL_FUNCTIONS[b.log.WARNING]="warn";b.log.LEVEL_FUNCTIONS[b.log.ERROR]="error";b.log.LEVEL_FUNCTIONS[b.log.LOG]="log";b.log.logFn=function(){if(window.console&&window.console.log&&b.isFunction(window.console.log)){for(var c,d=window.console.log,e=[],h=0;h<arguments.length;h++)e.push(arguments[h]);if(arguments.length>0&&(c=b.log.LEVEL_ORDER.indexOf(arguments[0]))>-1){c=window.console[b.log.LEVEL_FUNCTIONS[b.log.LEVEL_ORDER[c]]];if(b.isFunction(c)){d=
c;e=e.slice(1)}}d.apply(window.console,e);return true}return false};b.log._specialLog=function(c,d){for(var e=[c],h=0;h<d.length;h++)e.push(d[h]);b.log.apply(this,e)};for(var g=0;g<b.log.LEVEL_ORDER.length;g++){var a=b.log.LEVEL_FUNCTIONS[b.log.LEVEL_ORDER[g]];a!="log"&&function(c){b[a]=function(){c>=b.log.level&&b.log._specialLog(b.log.LEVEL_ORDER[c],arguments)}}(g)}b.log.failoverFn=function(c){function d(h){var f=setInterval(function(){if(b.log.logFn.apply(null,c)){clearInterval(f);b.isFunction(h)&&
h()}},100)}if(b.log.failoverToFirebugLite)if(b.log.loading)d();else{b.log.loading=true;var e=b("<script/>",{type:"text/javascript",src:b.log.firebugLiteUrl});b("body").append(e);d(function(){b.log.loading=false})}else if(b.SimpleConsole){window.console=b("body").SimpleConsole();b.log.logFn.apply(null,c)}}})(jQuery);
(function(b){var g=b[b.QUAID];b.extend(b,{isString:function(a){return typeof a=="string"||a instanceof String},isNumber:function(a){return typeof a=="number"},isObject:function(a){return!b.isString(a)&&!b.isArray(a)&&!(a instanceof Date)&&a instanceof Object},round:function(a,c){return Math.round(a*Math.pow(10,c))/Math.pow(10,c)},zeroPad:function(a,c){a=""+a;if(a.length>=c)return a;for(var d=[],e=c-a.length,h=0;h<e;h++)d.push("0");return d.join("")+a},pluralize:function(a,c,d,e){c=c;if(a==1)c=d;else if(a==
0&&b.isString(e))c=e;return c.replace("{0}",a)},andJoin:function(a){if(a.length==0)return"";if(a.length==1)return a[0];return a.slice(0,a.length-1).join(", ")+" and "+a[a.length-1]},replace:function(a,c){function d(h,f,i){for(;h.indexOf(f)>-1;)h=h.replace(f,i);return h}if(b.isArray(c))for(var e=0;e<c.length;e++)a=d(a,"{"+e+"}",c[e]);else if(b.isObject(c))for(e in c)a=d(a,"{"+e+"}",c[e]);return a},commifyNumber:function(a,c){if(c){var d=Math.pow(10,c);a=parseInt(Math.round(Math.round(a/d)*d))}a=""+
a;var e=a.split(".");d=e[0];var h=null;if(e.length>1)h=e[1];e=a[0]=="-";d=d.replace("-","");var f="";d=d.split("").reverse();for(var i=0;i<d.length;i++){if(i!=0&&i%3==0)f=","+f;f=d[i]+f}if(h)f+="."+h;if(e)f="-"+f;return f},parseDate:function(a,c){if(!a)return null;if(a.constructor==Date||b.isNumber(a))return new Date(a);if(!b.isString(a)||!c)return null;for(var d=a.split(/\W+/),e=c.split(/\W+/),h,f,i,j,m,o=new Date,n=0;n<d.length;n++)switch(e[n]){case "d":case "e":h=parseInt(d[n],10);break;case "m":f=
parseInt(d[n],10)-1;break;case "Y":case "y":i=parseInt(d[n],10);i+=i>100?0:i<29?2E3:1900;break;case "H":case "I":case "k":case "l":j=parseInt(d[n],10);break;case "P":case "p":if(/pm/i.test(d[n])&&j<12)j+=12;else if(/am/i.test(d[n])&&j>=12)j-=12;break;case "M":m=parseInt(d[n],10);break}return new Date(i===undefined?o.getFullYear():i,f===undefined?o.getMonth():f,h===undefined?o.getDate():h,j===undefined?0:j,m===undefined?0:m,0)},formatDate:function(a,c){var d=a.getMonth(),e=a.getDate(),h=a.getFullYear(),
f=a.getDay(),i=a.getHours(),j=i>=12,m=j?i-12:i;if(m==0)m=12;for(var o=a.getMinutes(),n=a.getSeconds(),p=c.split(""),l,q=0;q<p.length;q++){l=p[q];switch(p[q]){case "a":l=g.daysShort[f];break;case "A":l=g.days[f];break;case "b":l=g.monthsShort[d];break;case "B":l=g.months[d];break;case "C":l=1+Math.floor(h/100);break;case "d":l=b.zeroPad(e,2);break;case "e":l=e;break;case "H":l=b.zeroPad(i,2);break;case "I":l=b.zeroPad(m,2);break;case "j":l=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);var r=
new Date(a.getFullYear(),0,0,0,0,0);l=b.zeroPad(Math.floor((l-r)/864E5),3);break;case "k":l=i;break;case "l":l=m;break;case "m":l=b.zeroPad(1+d,2);break;case "M":l=b.zeroPad(o,2);break;case "p":l=j?"pm":"am";break;case "P":l=j?"PM":"AM";break;case "s":l=Math.floor(a.getTime()/1E3);break;case "S":l=b.zeroPad(n,2);break;case "u":l=f+1;break;case "w":l=f;break;case "y":l=(""+h).substr(2,2);break;case "Y":l=h;break}p[q]=l}return p.join("")},extendUrl:function(a,c){var d=a.indexOf("?"),e=a,h="";if(d>-1){e=
a.substring(0,d);h=a.substring(d)}return e+"?"+b.serializeUrlParams(b.extend(b.parseUrlParams(h),c))},serializeUrlParams:function(a){return b.param(a)},parseUrlParams:function(a){if(!a)return{};var c=a.indexOf("?");if(c>-1)a=a.substring(c+1);var d={};a.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,h,f){if(e)d[h]=f});return d},redirect:function(a){window.location.replace(a)},reload:function(){window.location.reload()}});b.extend(g,{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday",
"Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["S","M","T","W","T","F","S","S"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});g.controlChars=[8,16,17,18,19,20,27,33,34,35,36,37,38,39,40,46];g.DataInterpreters={dateParseFormat:"m.d.Y H:M",datetimeFormat:"b e, Y H:M",dateFormat:"b e, Y",_parseInterpreter:function(a){var c=
{};a=/([A-Za-z_]+)(\(([0-9]+)\))?/.exec(a);c.fn=a[1];c.num=a[3]?parseInt(a[3]):null;return c},get:function(a,c){var d=g.DataInterpreters,e=d._parseInterpreter(a);if(e.fn in d){var h=[c];e.num&&h.push(e.num);return d[e.fn].apply(this,h)}return c},number:function(a){if(b.isString(a))return a;return!a?"0":b.commifyNumber(parseInt(a))},decimal:function(a,c){if(b.isString(a))return a;return!a?"0":b.commifyNumber(b.round(a,c==undefined?4:c)+"")},percent:function(a,c){return g.DataInterpreters.decimal(a,
c)+"%"},dollar:function(a){if(b.isString(a))return a;return!a?"$0.00":"$"+g.DataInterpreters.decimal(a,2)},date:function(a){if(!a)return"N/A";a=b.parseDate(a,g.DataInterpreters.dateParseFormat);return b.formatDate(a,g.DataInterpreters.dateFormat)},datetime:function(a){if(!a)return"N/A";a=b.parseDate(a,g.DataInterpreters.dateParseFormat);return b.formatDate(a,g.DataInterpreters.datetimeFormat)},bool:function(a){return a?"Yes":"No"},checkbox:function(a){return'<input class="checkbox" type="checkbox" '+
(a?'checked="checked"':"")+"/>"}}})(jQuery);
(function(b){var g=b[b.QUAID];b.ajaxOriginal=b.ajax;b.ajax=function(a){if(a.dataType&&a.dataType=="json"){var c=function(){};if(!b.isFunction(a.applicationError))a.applicationError=c;var d=function(f){for(var i={general:[],field:[]},j=0;f.errors&&j<f.errors.length;j++)"field"in f.errors[j]&&f.errors[j].field?i.field.push(f.errors[j]):i.general.push(f.errors[j]);i.field.length>0&&g.asyncErrors.add(i.field);a.applicationError.call(this,"applicationerror",i)},e=a.success||function(){};a.success=function(f,
i){f&&!f.status&&!f.errors&&b.log('Hey, you need a "success" or "errors" param on the response data!');f.debug&&g.DEBUG&&g.DEBUG.addRequest(f.debug);f&&f.status=="success"?e.call(this,f,i):d(f)};var h=a.error||function(){};a.error=function(f,i,j){if(f.status>=500){a.applicationError.call(this,"servererror",f.status);g.handleServerError.call(this,f,i,j)}else if(f.status>=400){b.log("SERVER ERROR",this.url,"; http status:",f.status+":"+i);try{var m=jQuery.httpData(f,a.dataType,a);d(m)}catch(o){a.applicationError.call(this,
"parsererror",o)}}else{m="[Unknown]";try{m=f.responseText||f.responseXML}catch(n){}var p="[Unknown Error]";if(j)p=j.number+": "+j.description;b.log("$.ajax Error ",p,", http status: ",f.status,":",i,"; original",m)}h.call(this,f,i,j)}}return b.ajaxOriginal(a)};g.handleServerError=function(){alert("Oops. An error occurred. Our team has been notified!")};g.asyncErrors={errors:{},add:function(a){g.asyncErrors.clear();if(a){for(var c=null,d=0;d<a.length;d++){var e=b('[name="'+a[d].field+'"]:visible');
if(e.length){if(!c||c.length==0)c=e.parents("form");g.asyncErrors.errors[a[d].field]={message:a[d].message,val:e.val()}}}c&&b.fn.valid&&c.each(function(){b(this).valid()})}},clear:function(){g.asyncErrors.errors={}}};if(b.validator&&b.fn.validate){b.validator.addMethod("asyncError",function(a,c,d){if(!d)return true;a=b(c).val();var e="";if(c.name in g.asyncErrors.errors)e=g.asyncErrors.errors[c.name].val||"";if(d instanceof Object&&d.connect&&d.display){a+=b('[name="'+d.connect+'"]').val();if(d.connect in
g.asyncErrors.errors)e+=g.asyncErrors.errors[d.connect].val||""}else if(d instanceof Object&&d.connect&&!d.display){this.check(b('[name="'+d.connect+'"]'));return true}fail=c.name in g.asyncErrors.errors&&a==e;return!fail},function(a,c){return g.asyncErrors.errors[c.name].message});g.defaultValidationOptions={};g.getValidationOptions=function(a){function c(d){if(typeof d=="string"){var e={};b.each(d.split(/\s/),function(){e[this]=true});d=e}return d}a=b.extend({},g.defaultValidationOptions,a);if(a.rules)for(k in a.rules){a.rules[k]=
c(a.rules[k]);if(!("asyncError"in a.rules[k]))a.rules[k].asyncError=true}return a};b.fn._oldValidate=b.fn.validate;b.fn.validate=function(a){a=g.getValidationOptions(a);return b(this)._oldValidate(a)}}else b.fn.validate=function(){b.warn("You need to install jQuery validation plugin for validation to work! http://bassistance.de/jquery-plugins/jquery-plugin-validation/")}})(jQuery);
(function(b){var g=b[b.QUAID];g.Loader=Class.extend("Loader",{init:function(a,c){this._super(a,c,{image:"16x16_arrows.gif",location:{position:"absolute",right:5,top:5},opacity:0.4});this.loadingCount=0;this.loaderCreated=false},_createLoader:function(){this.loaderCreated=true;var a=this,c=b("<div/>"),d=b("<img/>");d[0].src=this.settings.image;c.append(d);c.addClass("inline-loader");c.hide();this.container.append(c);this.loader=c;this.container.css("position")=="static"&&this.container.css("position",
"relative");if(this.settings.location=="center"){var e=new Image;e.onload=function(){var h=a.container.height(),f=a.container.width();a.setLocation({position:"absolute",top:h/2-e.height/2,left:f/2-e.width/2});e.onload=function(){}};e.src=a.settings.image}else a.setLocation(a.settings.location)},_show:function(){this.loaderCreated||this._createLoader();if(!this.isLoading()){this.oldOpacity=this.container.css("opacity");this.container.css("opacity",""+this.settings.opacity);this.loader.css("display",
"block")}},_hide:function(){if(this.isLoading()){!this.oldOpacity||this.oldOpacity=="1"?this.container.css("opacity",null):this.container.css("opacity",this.oldOpacity);this.loader.css("display","none")}},setLocation:function(a){this.settings.location=a;this.loader&&this.loader.css(a)},isLoading:function(){if(this.loader)return this.loader.css("display")=="block";return false},startLoading:function(){this.loadingCount++;this._show()},stopLoading:function(){this.loadingCount=Math.max(0,this.loadingCount-
1);this.loadingCount==0&&this._hide()}});g.AsyncLoader=g.Loader.extend("AsyncLoader",{init:function(a,c){this._super(a,b.extend({},{ajaxOptions:{type:"POST",dataType:"json",onPostLoad:function(){}}},c))},load:function(a,c,d,e){function h(i){return function(){b.isFunction(i)&&i.apply(this,arguments);f.stopLoading();b.isFunction(f.settings.onPostLoad)&&f.settings.onPostLoad.call(this,"fail",arguments)}}if(!a){b.log("AsyncLoader.load on ",this.container,": load() needs a url, f00! Seriously.");return false}var f=
this;f.startLoading();return b.ajax(b.extend(f.settings.ajaxOptions,{url:a,data:c,success:h(b.isFunction(d)?d:f.settings.ajaxOptions.success),applicationError:h(b.isFunction(e)?e:f.settings.ajaxOptions.applicationError)}))}});g.SingleResourceAsyncLoader=g.AsyncLoader.extend("SingleResourceAsyncLoader",{init:function(a,c){this._super(a,b.extend({},{url:"",onSuccess:function(){},onFail:function(){}},c));this.currentRequest=null;this.lastParams={}},load:function(a){this.lastParams=a||this.lastParams;
if((a=this._super(this.settings.url,this.lastParams,this.settings.onSuccess,this.settings.onFail))&&this.currentRequest){this.currentRequest.abort();this.stopLoading()}this.currentRequest=a}})})(jQuery);
(function(b){var g=b[b.QUAID];g.Textbox=Class.extend("Textbox",{init:function(a,c){this._super(a,c,{});this.box=b(a)},val:function(a){return this.box.val(a)},getSelection:function(){var a=this.box[0],c="";if(document.selection!=undefined){a.focus();c=document.selection.createRange().text}else if(a.selectionStart!=undefined)c=a.value.substring(a.selectionStart,a.selectionEnd);return c}});g.IntBox=g.Textbox.extend("IntBox",{init:function(a,c){var d=b.extend({},{onFail:function(){return false},maxDigits:7},
c);this._super(a,d);self=this;this.box.keypress(function(e){if(self.val().length>d.maxDigits-1&&!(e.which in g.controlChars)&&!self.getSelection())return false;if(e.which!=8&&e.which!=0&&e.which!=13&&(e.which<48||e.which>57))return d.onFail.call(self,e.which);return true});return this}});g.DecimalBox=g.IntBox.extend("DecimalBox",{init:function(a,c){var d=b.extend({},{},c),e=this;d.onFail=function(h){h==46&&e.val().length==0&&e.val("0");return h==46&&e.val().indexOf(".")<0};this._super(a,d)}});g.Form=
Class.extend("Form",{init:function(a,c){this._super(a,c,{dataTypes:{},validationOptions:{},defaultData:{},resetInitially:false,onLoad:function(){}});c=this.settings;if(a.is("form"))this.form=a;else{this.form=a.find("form");if(!this.form.length){b.log("Cannot find form in",a,"!! You need a form. Fo' Real!");return}}this.form.validate(c.validationOptions);c.resetInitially&&this.reset();for(var d in c.dataTypes){var e=this.getElement(d);e.length&&this._setElementDataFilter(e,c.dataTypes[d])}},_setElementDataFilter:function(a,
c){b.isFunction(g.Form.dataTypes[c])&&g.Form.dataTypes[c].call(this,a)},_setData:function(a,c){if(a.attr("type")=="radio")a.each(function(){b(this).val()==c&&b(this).attr("checked","checked")});else if(a.attr("type")=="checkbox")c?a.attr("checked","checked"):a.attr("checked",null);else a.val(c)},getElement:function(a){return this.form.find('input[name="'+a+'"], textarea[name="'+a+'"], select[name="'+a+'"]')},val:function(a,c){var d=this.getElement(a);if(c!=undefined)return this._setData(d,c);if(d.eq(0).attr("type")==
"radio")return d.filter(":checked").val();else if(d.attr("type")=="checkbox")return d.is(":checked");return d.val()},focusFirst:function(){this.form.find('input[type="text"]:first, textarea:first').focus()},reset:function(){for(var a=this.form.find("input, textarea, select"),c=this.settings.defaultData,d=0;d<a.length;d++){var e=a.eq(d),h=e.attr("name");if(e.attr("type")!="submit"){var f="";if(h in c)f=c[h];this._setData(e,f)}}},load:function(a){b.isFunction(this.settings.onLoad)&&this.settings.onLoad.call(this,
a);for(var c in a)this.val(c,a[c])},hide:function(){this.container.hide()},show:function(){this.container.show();this.focusFirst()},submit:function(){this.form.submit()}});g.Form.dataTypes={"int":function(a){a.IntBox()},decimal:function(a){a.DecimalBox()}};g.AsyncForm=g.Form.extend("AsyncForm",{init:function(a,c){var d=this;c=b.extend({},{loaderLocation:{position:"absolute",bottom:5,left:5},ajaxOptions:{dataType:"json"},validationOptions:{},onSuccess:function(){},onFail:function(){}},c);c.validationOptions.submitHandler=
function(){d.loader.startLoading();var e=b.extend(c.ajaxOptions,{success:function(h){b.isFunction(c.onSuccess)&&c.onSuccess.call(d,h);d.loader.stopLoading()},applicationError:function(){b.isFunction(c.onFail)&&c.onFail.apply(d,arguments);d.loader.stopLoading()}});d.form.ajaxSubmit(e)};d._super(a,c);d.loader=d.form.Loader({location:d.settings.loaderLocation})}})})(jQuery);
